!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.tinydate=t()}(this,function(){var e=/([^{]*?)\w(?=\})/g,t={YYYY:"getFullYear",YY:"getYear",MM:function(e){return e.getMonth()+1},DD:"getDate",HH:"getHours",mm:"getMinutes",ss:"getSeconds",fff:"getMilliseconds"};return function(n){var r=[],u=0;return n.replace(e,function(e,o,i){r.push(n.substring(u,i-1)),u=i+=e.length+1,r.push(function(n){return("00"+("string"==typeof t[e]?n[t[e]]():t[e](n))).slice(-e.length)})}),u!==n.length&&r.push(n.substring(u)),function(e){for(var t="",n=0,u=e||new Date;n<r.length;n++)t+="string"==typeof r[n]?r[n]:r[n](u);return t}}});