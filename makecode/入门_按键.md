# 按键检测
  
按键用到的是【控制器】分栏下的积木块 

**分栏解析**

![](https://s2.ax1x.com/2019/05/29/VnsYB8.png)  

**使用按键**  

通过上一节蜂鸣器的学习，想必已经体验过了按键，按键无非就是用来控制一些事情的发生时机，比如本章我们就要将按键与游戏本身结合起来。  

![](https://s2.ax1x.com/2019/05/29/VnyYx1.png)

1. 创建一个精灵角色并选择好自己喜欢的图案，可以是官方提供的也可以手动自己描绘
2. 按照上图所示，我们点击点头指向的+符号，可以看到后面出现的两个变量，他们分别是x和y轴的移动速度，以px/s为单位 

---

![](https://s2.ax1x.com/2019/05/29/VncKNF.png)  

这个积木块的使用方法不太一样，但实现效果是一样的，在双人游戏中常常会用到。(我们暂时只提及一下双人游戏，后续再讲)  

--- 

![](https://s2.ax1x.com/2019/05/29/VnRl9g.png)  

运用按键来控制精灵的物理属性，它的速度，它的位置等等都可以。在上面这个程序中，在模拟器中按下按键A可以看到小人网上跳动又回到台阶上。在制作有的时候其实是有许多讲究的，比如每一个台阶间隔需要设置为多少，小人的跳动高度为多少之类的。这里根据程序设置的加速度ay = 200（屏幕左上角为（0,0），那么正数为向下的加速度），当按下按键A给精灵一个速度vy = -100（即向上的速度）。这里就需要融合物理知识了  

`物理小常识`：

位移x，加速度a，初速度v<sub>0</sub>，末速度v ,时间t

v<sup>2</sup> - v<sub>0</sub> = 2ax
v = v<sub>0</sub> + at 

通过上述两个公式我们能求出关于位移和落地时间等等基础数值

我们通过下面这段程序结合公式来实际看看精灵能跳多高吧。  
通过公式：v<sup>2</sup> - v<sub>0</sub> = 2ax  
已知最高点v = 0， v<sub>0</sub> = -100， a = 200
解得：x = -25 
由于在屏幕中向上为y坐标值减小，所以为了方便理解将它取反得到25

![](https://s2.ax1x.com/2019/05/29/VnjLOx.png) 

!> 截止0.8.11版本的Arcade这边似乎有点小bug，加速度a的数值有点不准，需要乘以一个0.8的系数倍就准确了

