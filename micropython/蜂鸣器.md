# 蜂鸣器  

蜂鸣器的原理是发送某个频率的脉冲刺激压电陶瓷的震动而发出声音，那我们要做的就是如何让主控芯片发送指定频率的脉冲了。

**初始化pwm硬件**

首先我们需要硬件的定时器来产生指定频率的pwm信号，喵bit的蜂鸣器接在PB8引脚上,而PB8对应定时器4通道3输出。

```python
	from pyb import Pin, Timer
	buzz = Pin("BUZZ")
	tim = Timer(4, freq=3000)
	ch = tim.channel(3, Timer.PWM, pin=buzz)
```

上面我们生存了两个对象，其中tim是我们的定时器。它在芯片内部是一个计数器，当计数值达到阈值的时候可以通过编程触发不同的行为，而让引脚电平改变就是其中一种。ch是我们的定时器输出对象，它将定时器的输出指向外部io引脚。因此定时器对象可以控制输出的频率，而通道对象可以控制输出波形的模式。

**输出音符Do**

我们知道C4调的音符Do的频率是262Hz，那么我们可以配置tim和ch对象输出对应的频率。

```python
	tim.freq(262)
	ch.pulse_width_percent(30)
	pyb.delay(1000)
	ch.pulse_width_percent(0)
```

上面代码我们首先设置定时器的频率，之后使能定时器输出通道。之后延时1秒钟，也就是一拍，再关闭通道的输出。